<div class="container py-4">
    <div class="row">
        <div class="col-md-9 mx-auto">
            <div class="card">
                 <div class="col-md-8 mx-auto">
                <div class="card-body">
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="profile">
                          <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
                          
                            <h3 class="text-center">Profile</h3>
                             <div class="profile-change-icon">
                              <label for="file-input">
                                  <img id="blah" src="<%= current_user.profile_pic_url%>", class="img-fluid setting-profile-image" />

                                  <%= f.file_field :profile_pic,id: "file-input",class: 'imgInp d-none' %>
                                  <span class="middle text-center"><i class="fas fa-camera"></i></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label>Name</label>
                                <%= f.text_field :name, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                            <div class="form-group">
                                <label>Date of Birth</label>
                                   <%= f.date_field :birthday, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                            <div class="form-group">
                                <label>Gender</label>
                                <select class="form-control">
                                    <option>Male</option>
                                    <option>Female</option>
                                </select>
                            </div>

                            
                            <div class="form-group">
                                <label>Email</label>
                                <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control', required: true %>
                            </div>
                              
                              <div class="form-group">
                                  <label>New Passwword</label>
                                  <%= f.password_field :password, autocomplete: "off", class: 'form-control', minlength: 6 %>
                              </div>
                               <div class="form-group">
                                  <label>New Passwword Confirmation</label>
                                  <%= f.password_field :password_confirmation, autocomplete: "off", class: 'form-control', minlength: 6 %>
                              </div>
                               <div class="form-group">
                                  <label>Old Passwword</label>
                                  <%= f.password_field :current_password, autocomplete: "off", class: 'form-control', minlength: 6 %>
                              </div>
                              <div class="actions">
                                <%= f.submit "Update", class: 'btn btn-primary btn-block mb-1' %>
                              </div>
                            <% end %>
                              <!--<center><a href="#" class="btn btn-primary mt-2">Save Setting</a></center>-->
                          </div >
                      
                    </div>
                </div>
            </div>
            </div>
        </div>

    </div>
</div>

<script>
    function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('#blah').attr('src', e.target.result);
        }

        reader.readAsDataURL(input.files[0]);
    }
}

$(".imgInp").change(function(){
    readURL(this);
});

$(".middle").mouseover(function() {
    $("#blah").css("opacity","0.1");
});
$(".middle").mouseout(function() {
    $("#blah").css("opacity","1");
});

// hover
$("#blah").hover(function() {
$(".middle").css("cursor","pointer");
});


</script>
